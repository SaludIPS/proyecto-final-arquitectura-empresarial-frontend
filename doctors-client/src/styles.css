/* ================== RESET & THEME ================== */
* { box-sizing: border-box; }
html, body, #root { height: 100%; }

:root{
  /* Design tokens */
  --space-1:6px; --space-2:10px; --space-3:14px; --space-4:18px; --space-5:24px; --space-6:32px;
  --radius-sm:8px; --radius-md:12px; --radius-lg:16px;
  --dur-1:120ms; --dur-2:200ms; --ease-1:cubic-bezier(.16,1,.3,1);

  /* Palette: modern dark with teal accents */
  --bg:#071126;
  --bg-accent:#071827;
  --panel:#081427;
  --panel-2:#0b1b33;
  --glass: rgba(255,255,255,0.03);

  --text:#e6eef8;
  --text-muted:#9fb0c6;

  --primary:#06b6d4;
  --primary-600:#0891b2;
  --danger:#ff6b6b;
  --success:#34d399;

  --border:rgba(255,255,255,0.04);
  --shadow: 0 8px 26px rgba(2,6,23,.6), inset 0 1px 0 rgba(255,255,255,0.02);
}

body{
  margin:0;
  font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  color:var(--text);
  background: linear-gradient(180deg, var(--bg) 0%, var(--bg-accent) 100%);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* ================== LAYOUT ================== */
.container{ min-height:100%; display:flex; flex-direction:column; }

header{
  position:sticky; top:0; z-index:40;
  background: linear-gradient(180deg, rgba(8,20,40,0.6), rgba(8,20,40,0.5));
  backdrop-filter: saturate(120%) blur(8px);
  border-bottom:1px solid var(--border);
  padding:var(--space-3) var(--space-4);
}
header .inner{ width:min(1120px, 94vw); margin:0 auto; display:flex; align-items:center; justify-content:space-between; gap:var(--space-4); }
header h1{ margin:0; font-size:18px; font-weight:700; letter-spacing:.2px; color:var(--text) }

/* API config */
.api-config{ display:flex; gap:12px; align-items:center; flex-wrap:wrap }
.api-config label{ color:var(--text-muted); font-size:13px }
.api-config input{
  padding:8px 10px; border-radius:8px; border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color:var(--text); min-width:220px; outline:none; transition:box-shadow var(--dur-2) var(--ease-1), border-color var(--dur-2) var(--ease-1);
}
.api-config input:focus-visible{ border-color:var(--primary-600); box-shadow:0 6px 18px rgba(6,182,212,0.08) }

main{ flex:1; width:100%; padding:0 16px }
.u-container{ width:min(1120px, 94vw); margin:28px auto }
.layout{ display:grid; gap:22px; grid-template-columns:1fr }

.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid var(--border); border-radius:var(--radius-md); padding:18px; box-shadow:var(--shadow);
  transition: transform var(--dur-2) var(--ease-1), box-shadow var(--dur-2) var(--ease-1);
}
.card:hover{ transform:translateY(-6px); box-shadow: 0 18px 38px rgba(2,6,23,.7) }

/* ================== FORMS ================== */
.grid-form .form-row{
  display:grid; gap:10px; margin-bottom:16px;
}

.grid-form input{
  padding:10px 12px; border-radius:10px; border:1px solid var(--border);
  background:transparent; color:var(--text); font-size:14px; transition:box-shadow var(--dur-2) var(--ease-1), border-color var(--dur-2) var(--ease-1);
}
.grid-form input:focus-visible{ border-color:var(--primary-600); box-shadow:0 8px 18px rgba(6,182,212,.06) }

.field-with-error{ display:grid; gap:6px; }
.field-error{ color:#fca5a5; font-size:12px; }
.field-with-error input[aria-invalid="true"]{
  border-color:#f87171; box-shadow:0 0 0 3px rgba(248,113,113,.2);
}

/* Selects globales (tema oscuro) */
select{ appearance:none; -webkit-appearance:none; -moz-appearance:none; background:transparent; color:var(--text); border:1px solid var(--border); border-radius:.6rem; padding:.5rem .9rem; width:100%; font-size:14px }
select:focus{ outline:none; border-color:var(--primary-600); box-shadow:0 8px 20px rgba(6,182,212,.06) }
select:disabled{ opacity:.6; cursor:not-allowed }
select option{ background:transparent; color:var(--text) }

/* Wrapper con caret */
.pretty-select{ position:relative; width:100%; }
.pretty-select select{ padding-right:2.2rem; }
.pretty-select::after{
  content:"â–¾"; position:absolute; right:.65rem; top:50%;
  transform:translateY(-50%); pointer-events:none; opacity:.7; color:#9aa4b2;
}
.pretty-select.compact select{ padding-right:1.8rem; }

/* Inputs globales */
input[type="text"], input[type="email"], input[type="number"], textarea{
  background:#0f172a; color:#e5e7eb; border:1px solid #263246;
  border-radius:.6rem; padding:.6rem .9rem;
}
::placeholder{ color:#94a3b8; opacity:.8; }

/* ================== BUTTONS ================== */
button{ padding:10px 14px; border-radius:999px; cursor:pointer; font-weight:600; display:inline-flex; gap:8px; align-items:center; justify-content:center; border:1px solid transparent; transition:transform var(--dur-1) var(--ease-1), box-shadow var(--dur-1) var(--ease-1) }
.btn-primary{ background: linear-gradient(180deg, var(--primary), var(--primary-600)); color:#042029; box-shadow: 0 10px 24px rgba(6,182,212,.12); border-color: rgba(6,182,212,.08) }
.btn-primary:hover{ transform:translateY(-2px) }
.btn-ghost{ background:transparent; color:var(--text); border:1px solid var(--border) }
.btn-danger{ background: linear-gradient(180deg, var(--danger), #d9534f); color:#fff }
.btn-primary:focus-visible, .btn-ghost:focus-visible{ box-shadow:0 10px 30px rgba(6,182,212,.08) }

/* ================== LIST HEADER & TOOLS ================== */
.list-header{ display:flex; align-items:center; justify-content:space-between; gap:10px }
.list-header .right{ display:flex; align-items:center; gap:10px; color:var(--text-muted) }
.list-status{ margin:8px 0 12px; color:var(--text-muted) }
.list-tools{ margin:8px 0 12px; display:flex; gap:10px; flex-wrap:wrap }
.search-input{ flex:1; min-width:180px; padding:8px 10px; border-radius:999px; border:1px solid var(--border); background:transparent; color:var(--text); outline:none }
.search-input:focus-visible{ border-color:var(--primary-600); box-shadow:0 8px 20px rgba(6,182,212,.06) }

/* ================== TABLE ================== */
.table-wrap{ border-radius:var(--radius-md); overflow:hidden; border:1px solid var(--border); background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02)); }
table.table{ width:100%; border-collapse:collapse; min-width:700px }
.table th, .table td{ padding:12px 14px; vertical-align:middle; text-align:left }
.table thead th{ position:sticky; top:0; z-index:3; font-weight:700; color:var(--text); background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-bottom:1px solid var(--border) }
.table tbody tr{ transition: background-color var(--dur-1) var(--ease-1) }
.table tbody tr:nth-child(even){ background: rgba(255,255,255,0.01) }
.table tbody tr:hover{ background: rgba(6,182,212,0.03) }
.table .w-min{ white-space:nowrap; width:1% }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace }
.center{ text-align:center }
.cell-title{ font-weight:600; line-height:1.25 }
.cell-sub{ font-size:.9rem; opacity:.85; color:var(--text-muted) }

.row-actions{ display:flex; gap:8px }
.row-actions button + button{ margin-left:.5rem }
.row-edit-input{ width:100%; padding:8px 10px; border-radius:8px; border:1px solid var(--border); background:transparent; color:var(--text) }

.empty-state{ color:var(--text-muted); padding:10px 0 }

/* ================== TOGGLE (checkbox bonito) ================== */
.toggle{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  width:48px; height:28px;
  background:#1f2a44;
  border:1px solid #263246;
  border-radius:999px;
  position:relative;
  cursor:pointer;
  box-shadow:inset 0 2px 4px rgba(0,0,0,.25);
  vertical-align:middle;
}
.toggle.small{ width:40px; height:24px; }
.toggle::after{
  content:"";
  position:absolute; top:50%; left:4px;
  width:20px; height:20px; transform:translate(0,-50%);
  background:var(--text-muted); border-radius:50%;
  transition:transform .18s var(--ease-1), background .18s var(--ease-1);
  box-shadow:0 2px 6px rgba(2,6,23,.6);
}
.toggle.small{ width:40px; height:24px }
.toggle:checked{ background:linear-gradient(180deg, rgba(6,182,212,.14), rgba(6,182,212,.08)); border-color: rgba(6,182,212,.14) }
.toggle:checked::after{ transform:translate(18px,-50%); background:#fff }
.toggle:focus{ outline:none; box-shadow:0 8px 20px rgba(6,182,212,.06) }
.grid-form .form-row > .toggle{ justify-self:start }

footer{ text-align:center; padding:16px; color:var(--text-muted) }

/* ================== RESPONSIVE ================== */
@media (min-width: 960px){
  .layout{ grid-template-columns: 1fr 420px; align-items:start }
  .u-container{ margin-top:32px }
}

@media (max-width: 960px){
  header .inner{ width:94vw }
  .layout{ grid-template-columns:1fr }
}

@media (max-width: 600px){
  header .inner{ flex-direction:column; align-items:flex-start; gap:10px }
  .api-config{ flex-direction:column; width:100% }
  .u-container{ margin:18px auto }
  .card{ padding:14px }
  .grid-form .form-row{ grid-template-columns:1fr }
  .search-input{ width:100%; padding:8px 12px }
  .table-wrap{ overflow-x:auto }
  .row-actions{ flex-wrap:wrap }
}

/* ================== UX POLISH & UNIQUE TOUCH ================== */

/* Accent gradient and subtle vignette for cards */
.card {
  background-image: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)), radial-gradient(600px 200px at 10% 0%, rgba(6,182,212,0.02), transparent 30%);
}

/* Card header with title + meta */
.card-header{
  display:flex; align-items:center; gap:var(--space-3); margin-bottom:var(--space-3);
}
.card-header .title{ font-size:1.05rem; font-weight:800; letter-spacing:.2px }
.card-header .subtitle{ color:var(--text-muted); font-size:.9rem }

/* Avatar / Entity preview */
.avatar{ width:44px; height:44px; border-radius:10px; overflow:hidden; flex-shrink:0; display:inline-grid; place-items:center; background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid var(--border); }
.avatar img{ width:100%; height:100%; object-fit:cover }

/* Small utility chips and badges */
.chip{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-weight:600; font-size:.81rem; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.02); color:var(--text-muted) }
.badge-soft{ padding:6px 10px; border-radius:999px; background:linear-gradient(180deg, rgba(6,182,212,0.09), rgba(6,182,212,0.04)); color:#03363b; font-weight:700 }

/* Floating action for table rows on hover (desktop) */
.table-wrap tbody tr{ position:relative }
.row-actions{ transition: opacity var(--dur-1) var(--ease-1), transform var(--dur-1) var(--ease-1) }
.table-wrap tbody tr:not(:hover) .row-actions{ opacity:.9 }

/* Icon buttons */
.icon-btn{ display:inline-grid; place-items:center; width:40px; height:40px; border-radius:10px; background:transparent; border:1px solid var(--border); color:var(--text); transition:background var(--dur-1) var(--ease-1), transform var(--dur-1) var(--ease-1) }
.icon-btn:hover{ background:rgba(255,255,255,0.02); transform:translateY(-3px) }

/* Table compact card mode for very small screens: each row becomes a card */
@media (max-width:420px){
  .table-wrap table, .table-wrap thead{ display:block }
  .table-wrap tbody tr{ display:block; margin-bottom:10px; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02)); padding:10px; }
  .table-wrap tbody tr td{ display:flex; justify-content:space-between; padding:8px 10px }
  .table-wrap tbody tr td:first-child{ font-weight:700 }
}

/* Small animated shimmer for loading placeholders */
.shimmer{
  position:relative; overflow:hidden; background: linear-gradient(90deg, rgba(255,255,255,0.02) 0%, rgba(255,255,255,0.04) 50%, rgba(255,255,255,0.02) 100%);
}
.shimmer::after{ content:""; position:absolute; inset:0; transform:translateX(-100%); background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.06) 50%, rgba(255,255,255,0) 100%); animation:shimmer 1.6s linear infinite }
@keyframes shimmer{ to{ transform:translateX(100%) } }

/* Accessibility: stronger visible focus for keyboard users */
:where(a,button,input,select):focus-visible{ outline:none; box-shadow:0 6px 24px rgba(6,182,212,0.12); border-radius:8px }

/* Utility helpers */
.muted{ color:var(--text-muted) }
.stack{ display:flex; gap:8px; align-items:center }
.spaced{ margin-top:var(--space-4) }

